SET storage_engine=InnoDB;
DROP DATABASE IF EXISTS Gym;
CREATE DATABASE Gym;
USE Gym;
SET FOREIGN_KEY_CHECKS=1;

DROP TABLE IF EXISTS GROUP_LESSON;
DROP TABLE IF EXISTS TRAINER;
DROP TABLE IF EXISTS GYM;
DROP TABLE IF EXISTS SPECIALTY;

CREATE TABLE TRAINER(
SSN CHAR(20) NOT NULL,
Name CHAR(10),
Surname CHAR(12),
City CHAR(10),
PRIMARY KEY (SSN)
);

CREATE TABLE GYM(
CodG INT NOT NULL,
NameP CHAR(15),
City CHAR(10),
Address CHAR(15),
PRIMARY KEY(CodG)
);

CREATE TABLE SPECIALTY(
CodS INT NOT NULL,
NameS CHAR(10),
Description CHAR(20),
PRIMARY KEY (CodS)
);

CREATE TABLE GROUP_LESSON(
SSN CHAR(20) NOT NULL,
CodG INT NOT NULL,
Date DATE NOT NULL,
CodS INT NOT NULL,
ParticipantsNumber INT NOT NULL,
PRIMARY KEY (SSN, CodG, Date),
FOREIGN KEY (SSN)  REFERENCES TRAINER(SSN)
ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY (CodG) REFERENCES GYM(CodG)
ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY (CodS) REFERENCES SPECIALTY(CodS)
ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO TRAINER(SSN,Name,Surname,City)
 VALUES('AAAAA','Gianni','Gianni','Milano');
INSERT INTO TRAINER(SSN,Name,Surname,City)
 VALUES('BBBBB','Gorgio','Vanni','Napoli');
INSERT INTO TRAINER(SSN,Name,Surname,City)
 VALUES('CCCCC','Marco','Sasso','Bologna');
INSERT INTO TRAINER(SSN,Name,Surname,City)
 VALUES('DDDDD','Giuseppe','Ruffini','Turin');

INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(1,'Muscoli','Turin','Via Po');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(2,'Maschio','Turin','Via Roma');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(3,'Femmina','Turin','Via Pio');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(4,'Grattugiato','Napoli','Via Terna');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(5,'Restia','Napoli','Via Quaterna');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(6,'Porpacci','Catanzaro','Via Cinquina');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(7,'Polpettone','Milano','Via Tombola');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(8,'GiU il cibo','Milano','Via Bingo');
INSERT INTO GYM(CodG,NameP,City,Address)
 VALUES(9,'Abbasso i primi','Roma','Via Scopa');


INSERT INTO SPECIALTY(CodS,NameS,Description)
 VALUES(10,'Karate','si fa Karate');
INSERT INTO SPECIALTY(CodS,NameS,Description)
 VALUES(11,'Zumba','si fa Zumba');
INSERT INTO SPECIALTY(CodS,NameS,Description)
 VALUES(12,'Pilates','si fa Pilates');

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('01/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',2,STR_TO_DATE('02/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',3,STR_TO_DATE('03/01/2021','%d/%m/%Y'),11,30);

INSERT INTO GROUP_LESSON
 VALUES('BBBBB',1,STR_TO_DATE('01/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('BBBBB',1,STR_TO_DATE('01/02/2021','%d/%m/%Y'),11,30);
INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('01/02/2021','%d/%m/%Y'),12,35);
INSERT INTO GROUP_LESSON
 VALUES('BBBBB',1,STR_TO_DATE('01/03/2021','%d/%m/%Y'),11,30);

INSERT INTO GROUP_LESSON
 VALUES('BBBBB',2,STR_TO_DATE('01/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('BBBBB',6,STR_TO_DATE('01/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('02/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('03/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('04/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('05/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('06/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('07/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('BBBBB',1,STR_TO_DATE('08/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('CCCCC',1,STR_TO_DATE('09/01/2021','%d/%m/%Y'),10,30);

INSERT INTO GROUP_LESSON
 VALUES('AAAAA',1,STR_TO_DATE('10/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('AAAAA',7,STR_TO_DATE('10/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('AAAAA',8,STR_TO_DATE('10/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('AAAAA',7,STR_TO_DATE('11/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('DDDDD',1,STR_TO_DATE('10/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('DDDDD',2,STR_TO_DATE('10/01/2021','%d/%m/%Y'),10,30);
INSERT INTO GROUP_LESSON
 VALUES('DDDDD',3,STR_TO_DATE('10/01/2021','%d/%m/%Y'),11,30);
INSERT INTO GROUP_LESSON
 VALUES('DDDDD',3,STR_TO_DATE('10/05/2021','%d/%m/%Y'),11,30);
